<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/main.css">
    <link rel="shortcut icon" href="../public/favicon.ico">
    <title>ChannelMonGo</title>
  </head>
  <body>
    <div class="item-01-P8y">
        <div class="menu_area">
            <div class="menu_ch0 foc"></div>
            <div class="menu_ch1"></div>
            <div class="menu_ch2"></div>
            <div class="menu_ch3"></div>
        </div>
    </div>
  </body>
</html>
<script type="text/javascript" src="../KeyCode.js?1"></script>
<script type="text/javascript" src="../js/index.js?1"></script>
<script>
    var focIndex = 0
    var maxIndex = 3

    var keyHandler = function(event) {
        if (event.keyCode == KeyCode.KEY_CONFIRM) {
            window.sessionStorage.setItem('menuIndex', focIndex)
            if (focIndex == 0) {
                window.location.href = './html/training.html'
            } else if (focIndex == 1) {
                window.location.href = './html/travel.html'
            } else if (focIndex == 2) {
                window.location.href = './html/battle.html'
            } else {
                window.location.href = './html/shop.html'
            }
        } else if (event.keyCode == KeyCode.KEY_RIGHT) {
            if (focIndex >= maxIndex) { 
                focIndex = maxIndex
            } else {
                focIndex++
            }
            setFocus(focIndex)
        } else if (event.keyCode == KeyCode.KEY_LEFT) {
            if (focIndex <= 0) {
                focIndex = 0
            } else {
                focIndex--
            } 
            setFocus(focIndex)
        }
        
        event.stopPropagation();
    }
    window.document.onkeydown = keyHandler
    init(keyHandler)

    var setFocus = function(index) {
        for(var a = 0; a < 4; a++) {
            if(index == a) {
                console.log('@2', index)
                document.getElementsByClassName('menu_ch' + index)[0].className = 'menu_ch' + a + ' foc'
            } else {
                console.log('@1', a)
                document.getElementsByClassName('menu_ch' + a)[0].className = 'menu_ch' + a
            }
        }
    }
</script>